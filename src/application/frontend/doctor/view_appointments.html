<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Appointments</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            width: 90%;
            max-width: 800px;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h2 {
            text-align: center;
            color: #333;
        }

        .appointment {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #e9ecef;
        }

        .appointment:hover {
            background-color: #dee2e6;
        }

        .appointment button {
            padding: 5px;
            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .appointment button:hover {
            background-color: #c82333;
        }

        .no-appointments {
            text-align: center;
            color: #888;
        }

        .date-selector {
            margin-bottom: 20px;
            text-align: center;
        }

        .date-selector input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>View Appointments</h2>

        <div class="date-selector">
            <label for="date">Select Date:</label>
            <input type="date" id="date" min="" value="">
        </div>

        <div id="appointments">
            <!-- Appointments will appear here -->
        </div>

        <p id="no-appointments" class="no-appointments">No appointments for the selected date.</p>
    </div>

    <script>
        // Set minimum date to today for the date input
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('date').setAttribute('min', today);

        // Sample data for appointments
        let appointments = [
            { date: '2024-08-17', time: '10:00 AM', patient: 'John Doe', id: '1' },
            { date: '2024-08-17', time: '02:00 PM', patient: 'Jane Smith', id: '2' },
            { date: '2024-08-18', time: '11:00 AM', patient: 'Alice Johnson', id: '3' },
            { date: '2024-08-19', time: '01:00 PM', patient: 'Bob Brown', id: '4' },
            { date: '2024-08-20', time: '04:00 PM', patient: 'Charlie Davis', id: '5' }
        ];

        function displayAppointments(date) {
            const appointmentsDiv = document.getElementById('appointments');
            const noAppointmentsMsg = document.getElementById('no-appointments');
            appointmentsDiv.innerHTML = '';
            noAppointmentsMsg.style.display = 'none';

            const filteredAppointments = appointments.filter(appt => appt.date === date);
            
            if (filteredAppointments.length === 0) {
                noAppointmentsMsg.style.display = 'block';
                return;
            }

            filteredAppointments.forEach(appt => {
                const appointmentDiv = document.createElement('div');
                appointmentDiv.className = 'appointment';
                appointmentDiv.innerHTML = `
                    <p>Date: ${appt.date}</p>
                    <p>Time: ${appt.time}</p>
                    <p>Patient: ${appt.patient}</p>
                    <button onclick="cancelAppointment('${appt.id}')">Cancel</button>
                `;
                appointmentsDiv.appendChild(appointmentDiv);
            });
        }

        function cancelAppointment(id) {
            const confirmed = confirm('Are you sure you want to cancel this appointment?');
            if (confirmed) {
                // Filter out the canceled appointment from the array
                appointments = appointments.filter(appt => appt.id !== id);
                
                // Update the displayed appointments for the currently selected date
                const selectedDate = document.getElementById('date').value;
                if (selectedDate) {
                    displayAppointments(selectedDate);
                }
                alert('Appointment canceled successfully.');
            }
        }

        document.getElementById('date').addEventListener('change', function() {
            const selectedDate = this.value;
            if (selectedDate) {
                displayAppointments(selectedDate);
            }
        });

        // Set default date to today and display appointments
        document.getElementById('date').value = today;
        displayAppointments(today);
    </script>
</body>
</html>
